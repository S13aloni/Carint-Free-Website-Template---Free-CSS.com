<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function convertToBase64(){
    //Read File
    var selectedFile = document.getElementById("inputFile").files;
    //Check File is not Empty
    if (selectedFile.length > 0) {
        // Select the very first file from list
        var fileToLoad = selectedFile[0];
        // FileReader function for read the file.
        var fileReader = new FileReader();
        var base64;
        // Onload of file read the file content
        fileReader.onload = function(fileLoadedEvent) {
            base64 = fileLoadedEvent.target.result;
            // Print data in console
            console.log(base64);
        };
        // Convert data to base64
        fileReader.readAsDataURL(fileToLoad);
    }
}
    </script>
</head>
<body>
    <input id="inputFile" type="file" onchange="convertToBase64();" />


</body>
</html>

<script>
    function file_size_validation() {
        let pdf_file_alert = document.getElementById("Certificate").value;
        // alert(!pdf_file_alert)
        let file_img = document.getElementById("Certificate").files[0];
        let allowedTypes = ["application/pdf"];
        let errorMsg = document.getElementById("err_cert");
        // let pdfPreview = document.getElementById("pdfPreview");
        let pdfPreviewContainer = document.getElementById("pdfPreviewContainer");

        const fi = document.getElementById('Certificate');
        if(pdf_file_alert=="")
        {
          errorMsg.innerHTML = "PDF is required.";
            errorMsg.style.color = "red";
            return false
        }
        // let file = files[0];

        if (!allowedTypes.includes(file_img.type)) {
            errorMsg.innerHTML = "Invalid file. Only PDF allowed.";
            errorMsg.style.color = "red";
            // document.getElementById("Certificate").value = "";
            alert("fasle")
        } else {
            if (fi.files.length > 0) {
                for (const i = 0; i <= fi.files.length - 1; i++) {
                    const fsize = fi.files.item(i).size;
                    const file = Math.round(fsize / 1024); // size in KB
                    if (file >= 4096) {
                        errorMsg.innerHTML = "File too Big. Please select a file less than 4MB.";
                        errorMsg.style.color = "red";
                        return false
                    } else {
                      var fileReader = new FileReader();
                      var base64;
                      // Onload of file read the file content
                      fileReader.onload = function(fileLoadedEvent) {
                          base64 = fileLoadedEvent.target.result;
                          // Print data in console
                          // console.log(base64);
                      };
                      // Convert data to base64
                      fileReader.readAsDataURL(file_img);
                      // uploadedFiles.push(file)
                      // pdf_file_alert=""
                      // alert(uploadedFiles)
                      // alert(pdf_file_alert)
                      // const pdfFileName = pdf_file_alert.split("\\").pop();
                      // const pdfPath = `./pdf/${pdfFileName}`;
                      // pdfPreview.src = pdfPath;
                      uploadedFiles.push(base64);
                      show_pdf_name(uploadedFiles)
                      console.log(uploadedFiles)
                      pdfPreviewContainer.style.display = "block";
                      // alert(pdf_file_alert)
                      errorMsg.innerHTML = "";
                      pdf_file_alert=""
                        return true
                    }
                }
            }
        }
    }
</script>